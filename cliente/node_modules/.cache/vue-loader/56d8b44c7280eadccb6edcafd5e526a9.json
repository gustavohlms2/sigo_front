{"remainingRequest":"/home/dell/git_projetos/git_sigo_app_login/sigo_app/cliente/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dell/git_projetos/git_sigo_app_login/sigo_app/cliente/src/components/processo/Operador.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/dell/git_projetos/git_sigo_app_login/sigo_app/cliente/src/components/processo/Operador.vue","mtime":1611088399599},{"path":"/home/dell/git_projetos/git_sigo_app_login/sigo_app/cliente/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dell/git_projetos/git_sigo_app_login/sigo_app/cliente/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/dell/git_projetos/git_sigo_app_login/sigo_app/cliente/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/dell/git_projetos/git_sigo_app_login/sigo_app/cliente/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dell/git_projetos/git_sigo_app_login/sigo_app/cliente/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5ncm9vdmUge2JvcmRlci1zdHlsZTogZ3Jvb3ZlO30KLmNlbnRlciB7IHRleHQtYWxpZ246IGNlbnRlcjsgfQoubGlzdGEgeyBtYXJnaW46IDMlOyBwYWRkaW5nOiAzJTt9Ci5kYW5nZXIgeyBjb2xvcjogcmVkOyB9Cg=="},{"version":3,"sources":["Operador.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiVA;AACA;AACA;AACA","file":"Operador.vue","sourceRoot":"src/components/processo","sourcesContent":["<template>\n    <div>\n        <div id=\"operador\" class=\"groove center lista\" v-if=\"isConnect\">\n            <nav class=\"breadcrumb\" aria-label=\"breadcrumbs\">\n                <ul>\n                    <li class=\"is-active\" ><a href=\"#\">Buscar</a></li>\n                    <li><a href=\"#\" v-on:click=\"operadorAlterar = {}; isShowModalAlteracao = true;\" >Novo</a></li>\n                </ul>\n            </nav>\n\n            <div class=\"columns\"> \n                <div class=\"column\">  </div>\n                <div class=\"column is-four-fifths\">\n                    <div class=\"field\">\n                        <input v-model=\"txtBusca\" type=\"text\" class=\"input is-primary\" placeholder=\"Buscar pelo título da operador\" aria-label=\"Nome da operador\" aria-describedby=\"button-addon\">\n                    </div>\n                </div>\n                <div class=\"column\">\n                    <button class=\"button is-success\" id=\"buscaBtn\" @click=\"buscar\"> Buscar</button>\n                </div>\n            </div>\n\n            <div>\n                <div class=\"tile center\" style=\"margin: 10px;\">\n                    <p class=\"title\" style=\"\"> Operadores Cadastrados </p>\n                </div>\n                <table class=\"table\" style=\"width: 100%;\">\n                    <thead>\n                        <tr>\n                            <th style=\"width: 10%;\" class=\"is-hidden-mobile\"><abbr title=\"ID\">Cód</abbr></th>\n                            <th style=\"width: 25%;\">Nome</th>\n                            <th style=\"width: 25%;\">Cargo</th>\n                            <th style=\"width: 20%;\" class=\"is-hidden-mobile\">Telefone</th>\n                            <th style=\"width: 20%;\">Ações</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"operador in filteredOperadors\" :key=\"operador.id\">\n                            <td class=\"is-hidden-mobile\">{{operador.id}}</td>\n                            <td>{{operador.nome}}</td>\n                            <td>{{operador.cargo}}</td>\n                            <td class=\"is-hidden-mobile\">{{operador.telefone}}</td>\n                            <td>\n                                <button class=\"button is-warning modal-button lista\" v-on:click=\"alterarOperador(operador); isShowModalAlteracao = true;\">\n                                    Alterar\n                                </button>\n                                <button class=\"button is-danger modal-button lista\" v-on:click=\"idExclusao = operador.id; isShowModalExclusao = true;\">\n                                    Excluir\n                                </button>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>   \n            </div>\n\n            <div class=\"modal\" id=\"modalAlterar\" v-bind:class=\"{ 'is-active': isShowModalAlteracao }\" >\n                <div class=\"modal-background\"></div>\n                <div class=\"modal-card\">\n                    <header class=\"modal-card-head\">\n                        <p class=\"modal-card-title\">Operador</p>\n                        <button class=\"delete\" aria-label=\"close\" v-on:click=\"isShowModalAlteracao = false\"></button>\n                    </header>\n                    <section class=\"modal-card-body\">\n                        <div class=\"field is-horizontal\">\n                            <div class=\"field-label is-operadorl\">\n                                <label class=\"label\">Nome</label>\n                            </div>\n                            <div class=\"field-body\">\n                                <div class=\"field\">\n                                <p class=\"control\">\n                                    <input class=\"input is-primary\" type=\"text\" placeholder=\"Informe o nome\" v-model=\"operadorAlterar.nome\">\n                                </p>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"field is-horizontal\">\n                            <div class=\"field-label is-operadorl\">\n                                <label class=\"label\">Cargo</label>\n                            </div>\n                            <div class=\"field-body\">\n                                <div class=\"field\">\n                                <p class=\"control\">\n                                    <input class=\"input is-primary\" type=\"text\" placeholder=\"Informe o cargo\" v-model=\"operadorAlterar.cargo\">\n                                </p>\n                                </div>\n                            </div>                            \n                        </div>\n\n                        <div class=\"field is-horizontal\">\n                            <div class=\"field-label is-operadorl\">\n                                <label class=\"label\">Email</label>\n                            </div>\n                            <div class=\"field-body\">\n                                <div class=\"field\">\n                                <p class=\"control\">\n                                    <input class=\"input is-primary\" v-on:blur=\"validaEmail()\" type=\"email\" placeholder=\"Informe o email\" v-model=\"operadorAlterar.email\">\n                                </p>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"field is-horizontal\">\n                            <div class=\"field-label is-operadorl\">\n                                <label class=\"label\">Telefone</label>\n                            </div>\n                            <div class=\"field-body\">\n                                <div class=\"field\">\n                                <p class=\"control\">\n                                    <input class=\"input is-primary\" type=\"text\" placeholder=\"Informe o telefone\" v-model=\"operadorAlterar.telefone\" v-on:blur=\"validaTelefone()\" minlength=\"8\" maxlength=\"14\" v-on:keypress=\"isNumber($event)\" >\n                                </p>\n                                </div>\n                            </div>\n                        </div>\n                        \n                    <!--    \n                        <div class=\"field is-horizontal\">\n                            <div class=\"field-label is-operadorl\">\n                                <label class=\"label\">Data</label>\n                            </div>\n                            <div class=\"field-body\">\n                                <datetime datetime type=\"datetime\" v-model=\"operadorAlterar.data_criacao\"></datetime>\n                            </div>\n                        </div>    \n                    -->\n\n                    <p v-if=\"this.errors.length\">\n                        <b>Por favor, corrija o(s) seguinte(s) erro(s):</b>\n                        <ul>\n                        <li v-for=\"error in errors\" :key=\"error.id\" class=\"danger\">\n                            {{ error }}\n                        </li>\n                        </ul>\n                    </p>\n                    </section>\n                        <footer class=\"modal-card-foot\">                    \n                        <button class=\"button\" v-on:click=\"isShowModalAlteracao = false\" >Descartar</button>\n                        <button class=\"button is-success\" v-on:click.stop.prevent=\"validaFormulario();\" >Salvar Alterações</button>\n                    </footer>\n                </div>\n            </div>\n\n            <div class=\"modal\" id=\"modalExcluir\" v-bind:class=\"{ 'is-active': isShowModalExclusao }\" >\n                <div class=\"modal-background\"></div>\n                <div class=\"modal-card\">\n                    <header class=\"modal-card-head\">\n                        <p class=\"modal-card-title\">Deseja realmente excluir?</p>\n                        <button class=\"delete\" aria-label=\"close\" v-on:click=\"isShowModalExclusao = false\"></button>\n                    </header>\n                    <section class=\"modal-card-body\">\n                        Atenção! Essa exclusão não poderá ser revertida.\n                    </section>\n                        <footer class=\"modal-card-foot\">\n                        <button class=\"button\" v-on:click=\"isShowModalExclusao = false\" >Descartar</button>\n                        <button class=\"button is-success\" @click=\"getExcluir\"  v-on:click=\"isShowModalExclusao = false\">Salvar Alterações</button>\n                    </footer>\n                </div>\n            </div>\n        </div>\n        <div id=\"operador\" class=\"groove center lista\" v-else>\n            <h1> SEM CONEXÃO AO SEVIDOR </h1>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport urlAPI from '../../utilities/urlapi';\n//import { Datetime } from 'vue-datetime';\n\nexport default {\n    name: 'Operador',  \n    components: {\n  //      datetime: Datetime\n    },  \n    created: function(){       \n        this.getOperador();        \n    },\n    data(){\n        return {\n            operadors: [],\n            filteredOperadors: [],\n            operadorAlterar: {},\n            txtBusca: '',\n            idExclusao: '',\n            isShowModalAlteracao: false,\n            isShowModalExclusao: false,\n            errors: [],\n            isConnect: true\n        }\n    },\n    filters: {\n        upper: function(value){\n            var newName = value[0].toUpperCase() + value.slice(1);\n            return newName; \n        }\n    },\n    methods: {\n        buscar: function(){\n            this.filteredOperadors = this.operadors;\n            if (this.txtBusca != '' && this.txtBusca != ' '){        \n                this.filteredOperadors =  this.operadors.filter(operador => operador.nome.includes(this.txtBusca) );\n            }      \n        },\n        alterar: function(){\n\n        },        \n        getOperador(){\n            var vm = this;\n            var url = urlAPI.OPERADOR;\n            axios.get(url).then(function(r){\n                vm.operadors = r.data.filter(operador => operador.indativo ); \n                vm.filteredOperadors = vm.operadors;\n            }).catch(function (error) {\n                vm.operadors = [];\n                vm.filteredOperadors = vm.operadors;\n                vm.isConnect = ( ( error != undefined  ) ? ( error.message == 'Network Error' ? false : true ) : true );\n                vm.errors = ( ( error != undefined  ) ? {'Erro': error.response } : {} )\n            });\n        },\n        getExcluir: function(){\n            var vm = this;\n            var url = urlAPI.OPERADOR;// + this.idExclusao;\n            var operadorAlterar = this.filteredOperadors.filter(operador => operador.id == this.idExclusao )[0];\n            //axios.delete(url).then(function(r){\n            axios.delete(url, { data: operadorAlterar }).then(function(r){\n                console.log(r);\n                vm.operadors = vm.deleteVetor(vm.operadors);\n                vm.filteredOperadors = vm.operadors;\n                vm.errors = [];\n            }).catch(function (error) {\n                    vm.errors = {'Erro': error.response };\n                    vm.operadors = [];\n                    \n            }).finally(function () {\n                \n            });\n        },\n        deleteVetor(arr){\n            var vm = this;\n            arr = arr.filter(function(obj) {\n                return obj.id !== vm.idExclusao;\n            });\n            return arr;\n        },\n        alterarOperador(f){\n            this.operadorAlterar = JSON.parse(JSON.stringify(f));\n        },\n        salvarAlterar(){\n            var vm = this;\n            var url = urlAPI.OPERADOR;\n            var dateFormat = require('dateformat');\n            if (this.operadorAlterar.id != '' && this.operadorAlterar.id != undefined ){\n                this.operadorAlterar.dataAlteracao = dateFormat(new Date(), \"yyyy-mm-dd hh:MM:ss\");\n                axios.put(url, this.operadorAlterar).then(function(){                    \n                    vm.getOperador(); // buscar todas\n                    vm.isShowModalAlteracao = false;\n                    vm.errors = [];\n                }).catch(function (error) {\n                    vm.errors = {'Erro': error.response };\n                }).finally(function () {\n                    \n                });\n            }else{\n                this.operadorAlterar.dataCriacao = dateFormat(new Date(), \"yyyy-mm-dd hh:MM:ss\");\n                this.operadorAlterar.indativo = true;\n                axios.post(url, this.operadorAlterar).then(function(){\n                    vm.getOperador(); // buscar todas\n                    vm.isShowModalAlteracao = false;\n                    vm.errors = [];\n                }).catch(function (error) {\n                    vm.errors = {'Erro': error.response};\n                }).finally(function () {\n                    \n                });\n            }\n        },\n        descartarAlteracoesOperador(){\n            this.operadorAlterar = {};\n        },\n        validaFormulario(){\n            if (this.operadorAlterar.nome && this.operadorAlterar.email && this.operadorAlterar.cargo && this.operadorAlterar.telefone) {                \n                this.salvarAlterar();\n            }\n\n            this.errors = [];\n\n            if (!this.operadorAlterar.nome) {\n                this.errors.push('Informe o nome.');\n            }\n            if (!this.operadorAlterar.email) {\n                this.errors.push('Informe o email.');\n            }\n            if (!this.operadorAlterar.cargo) {\n                this.errors.push('Informe a cargo.');\n            }\n            if (!this.operadorAlterar.telefone) {\n                this.errors.push('Informe o telefone.');\n            }\n\n        },\n        isNumber(e) {\n            let char = String.fromCharCode(e.keyCode);\n            if (/^[0-9]+$/.test(char)) return true;\n            else e.preventDefault();\n        },\n        validaEmail() {\n            if( this.operadorAlterar.email==\"\"  || this.operadorAlterar.email.indexOf('@')==-1  || this.operadorAlterar.email.indexOf('.')==-1 ){\n                this.operadorAlterar.email = '';\n                alert( \"Por favor, informe um E-MAIL válido!\" );\n                return false;\n            }\n            return true\n        },\n        validaTelefone() {\n            if( this.operadorAlterar.telefone.length < 8  ){\n                this.operadorAlterar.telefone = '';\n                alert( \"Por favor, informe um telefone válido!\" );\n                return false;\n            }  \n            return true;\n        }\n\n    },\n    computed: {\n        resultadoBusca: function(){\n            if (this.txtBusca == '' || this.txtBusca == ' '){\n                return this.operadors;\n            }else{\n                return this.operadors.filter(operador => operador.nome.includes(this.txtBusca) );\n            }\n        }\n    }\n}\n</script>\n\n<style>\n    .groove {border-style: groove;}\n    .center { text-align: center; }\n    .lista { margin: 3%; padding: 3%;}\n    .danger { color: red; }\n</style>"]}]}